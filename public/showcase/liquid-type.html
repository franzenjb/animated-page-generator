<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Liquid Typography</title>
  <link href="https://cdn.jsdelivr.net/npm/geist@1.0.0/dist/fonts/geist-sans/style.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/geist@1.0.0/dist/fonts/geist-mono/style.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
  <style>
    :root {
      --realie-bg: #181b1b;
      --realie-accent-glow: #14b8a6;
      --realie-text: #ede9fe;
      --realie-text-muted: #71717a;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    html {
      scroll-behavior: smooth;
    }

    body {
      background: var(--realie-bg);
      min-height: 400vh;
      font-family: 'Geist', system-ui, sans-serif;
      color: var(--realie-text);
      overflow-x: hidden;
    }

    .back-link {
      position: fixed;
      top: 30px;
      right: 30px;
      font-family: 'Geist Mono', monospace;
      font-size: 11px;
      color: var(--realie-text-muted);
      text-decoration: none;
      z-index: 100;
      padding: 8px 16px;
      border: 1px solid rgba(237, 233, 254, 0.1);
      border-radius: 6px;
      transition: all 0.2s ease;
    }

    .back-link:hover {
      color: var(--realie-accent-glow);
      border-color: var(--realie-accent-glow);
    }

    .ui {
      position: fixed;
      z-index: 10;
      pointer-events: none;
    }

    .ui-top {
      top: 30px;
      left: 30px;
    }

    .ui-bottom {
      bottom: 30px;
      left: 30px;
      right: 30px;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
    }

    .label {
      font-family: 'Geist Mono', monospace;
      font-size: 10px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--realie-text-muted);
      margin-bottom: 8px;
    }

    .title {
      font-size: 11px;
      font-weight: 500;
      color: var(--realie-accent-glow);
    }

    .scroll-indicator {
      font-family: 'Geist Mono', monospace;
      font-size: 10px;
      color: var(--realie-text-muted);
      text-align: right;
      line-height: 1.6;
    }

    .progress-value {
      font-family: 'Geist Mono', monospace;
      font-size: 48px;
      font-weight: 300;
      color: var(--realie-text);
      opacity: 0.3;
    }

    /* Main text container */
    .liquid-section {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .svg-container {
      width: 90vw;
      max-width: 1400px;
      height: 60vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .liquid-text {
      width: 100%;
      height: 100%;
    }

    /* Scrolling sections for context */
    .scroll-section {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .scroll-section:first-of-type {
      margin-top: 100vh;
    }

    .section-content {
      text-align: center;
      opacity: 0;
      transform: translateY(40px);
    }

    .section-number {
      font-family: 'Geist Mono', monospace;
      font-size: 12px;
      color: var(--realie-accent-glow);
      margin-bottom: 16px;
      letter-spacing: 0.2em;
    }

    .section-text {
      font-size: 18px;
      color: var(--realie-text-muted);
      max-width: 400px;
      line-height: 1.6;
    }

    /* Glow effect on text */
    .text-glow {
      filter: drop-shadow(0 0 20px rgba(20, 184, 166, 0.5));
    }
  </style>
</head>
<body>
  <a href="index.html" class="back-link">Back to Showcase</a>

  <div class="ui ui-top">
    <div class="label">ULTRAHARD 10</div>
    <div class="title">Liquid Typography</div>
  </div>

  <div class="ui ui-bottom">
    <div>
      <div class="label">Liquidity</div>
      <div class="progress-value" id="progressValue">0%</div>
    </div>
    <div class="scroll-indicator">
      Scroll to liquefy<br>
      Mouse adds turbulence
    </div>
  </div>

  <div class="liquid-section">
    <div class="svg-container">
      <svg class="liquid-text" viewBox="0 0 1200 400" preserveAspectRatio="xMidYMid meet">
        <defs>
          <!-- Turbulence filter for liquid effect -->
          <filter id="liquid-filter" x="-50%" y="-50%" width="200%" height="200%">
            <feTurbulence
              id="turbulence"
              type="fractalNoise"
              baseFrequency="0.01"
              numOctaves="3"
              seed="1"
              result="noise"
            />
            <feDisplacementMap
              id="displacement"
              in="SourceGraphic"
              in2="noise"
              scale="0"
              xChannelSelector="R"
              yChannelSelector="G"
            />
          </filter>

          <!-- Gradient for text -->
          <linearGradient id="text-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color:#14b8a6"/>
            <stop offset="50%" style="stop-color:#ede9fe"/>
            <stop offset="100%" style="stop-color:#14b8a6"/>
          </linearGradient>

          <!-- Animated gradient -->
          <linearGradient id="animated-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#0d4a47">
              <animate attributeName="stop-color" values="#0d4a47;#14b8a6;#0d4a47" dur="4s" repeatCount="indefinite"/>
            </stop>
            <stop offset="50%" style="stop-color:#14b8a6">
              <animate attributeName="stop-color" values="#14b8a6;#ede9fe;#14b8a6" dur="4s" repeatCount="indefinite"/>
            </stop>
            <stop offset="100%" style="stop-color:#0d4a47">
              <animate attributeName="stop-color" values="#0d4a47;#14b8a6;#0d4a47" dur="4s" repeatCount="indefinite"/>
            </stop>
          </linearGradient>

          <!-- Glow filter -->
          <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
            <feMerge>
              <feMergeNode in="coloredBlur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>

        <!-- Background subtle grid -->
        <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
          <path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(237, 233, 254, 0.03)" stroke-width="1"/>
        </pattern>
        <rect width="100%" height="100%" fill="url(#grid)"/>

        <!-- Main text with liquid filter -->
        <g filter="url(#liquid-filter)">
          <text
            id="main-text"
            x="600"
            y="220"
            text-anchor="middle"
            dominant-baseline="middle"
            font-family="Geist, system-ui, sans-serif"
            font-size="180"
            font-weight="300"
            fill="url(#animated-gradient)"
            letter-spacing="-0.02em"
          >
            FLUID
          </text>
        </g>

        <!-- Subtitle -->
        <text
          id="sub-text"
          x="600"
          y="320"
          text-anchor="middle"
          font-family="Geist Mono, monospace"
          font-size="14"
          fill="#71717a"
          letter-spacing="0.3em"
          opacity="0.6"
        >
          SCROLL TO TRANSFORM
        </text>

        <!-- Decorative elements -->
        <circle id="orb1" cx="100" cy="100" r="4" fill="#14b8a6" opacity="0.5"/>
        <circle id="orb2" cx="1100" cy="300" r="3" fill="#14b8a6" opacity="0.3"/>
        <circle id="orb3" cx="150" cy="350" r="2" fill="#ede9fe" opacity="0.4"/>
        <circle id="orb4" cx="1050" cy="80" r="3" fill="#ede9fe" opacity="0.3"/>
      </svg>
    </div>
  </div>

  <!-- Scroll sections with contextual content -->
  <div class="scroll-section" data-section="1">
    <div class="section-content">
      <div class="section-number">01</div>
      <p class="section-text">Typography that flows like water, responding to your scroll with organic turbulence.</p>
    </div>
  </div>

  <div class="scroll-section" data-section="2">
    <div class="section-content">
      <div class="section-number">02</div>
      <p class="section-text">SVG filters create real-time displacement, transforming rigid letterforms into liquid motion.</p>
    </div>
  </div>

  <div class="scroll-section" data-section="3">
    <div class="section-content">
      <div class="section-number">03</div>
      <p class="section-text">The boundary between solid and fluid dissolves as you continue your journey downward.</p>
    </div>
  </div>

  <script>
    gsap.registerPlugin(ScrollTrigger);

    const turbulence = document.getElementById('turbulence');
    const displacement = document.getElementById('displacement');
    const progressValue = document.getElementById('progressValue');
    const mainText = document.getElementById('main-text');
    const subText = document.getElementById('sub-text');
    const sections = document.querySelectorAll('.section-content');

    let mouseInfluence = 0;
    let targetMouseInfluence = 0;
    let scrollProgress = 0;
    let time = 0;

    // Mouse tracking for local turbulence
    document.addEventListener('mousemove', (e) => {
      const centerX = window.innerWidth / 2;
      const centerY = window.innerHeight / 2;
      const distFromCenter = Math.sqrt(
        Math.pow(e.clientX - centerX, 2) +
        Math.pow(e.clientY - centerY, 2)
      );
      const maxDist = Math.sqrt(centerX * centerX + centerY * centerY);
      targetMouseInfluence = 1 - (distFromCenter / maxDist);
    });

    // Scroll progress tracking
    ScrollTrigger.create({
      trigger: 'body',
      start: 'top top',
      end: 'bottom bottom',
      onUpdate: (self) => {
        scrollProgress = self.progress;
      }
    });

    // Animate section content on scroll
    sections.forEach((section, i) => {
      gsap.to(section, {
        opacity: 1,
        y: 0,
        duration: 1,
        ease: 'power2.out',
        scrollTrigger: {
          trigger: section.parentElement,
          start: 'top 70%',
          end: 'top 30%',
          toggleActions: 'play reverse play reverse'
        }
      });
    });

    // Animation loop
    function animate() {
      time += 0.016;

      // Smooth mouse influence
      mouseInfluence += (targetMouseInfluence - mouseInfluence) * 0.05;

      // Calculate liquid intensity based on scroll + mouse
      const baseFrequency = 0.01 + (scrollProgress * 0.04);
      const displacementScale = scrollProgress * 80 + (mouseInfluence * 20);

      // Animate turbulence seed for movement
      const seed = Math.sin(time * 0.5) * 100;

      // Update filter values
      turbulence.setAttribute('baseFrequency', baseFrequency.toFixed(4));
      turbulence.setAttribute('seed', Math.floor(seed));
      displacement.setAttribute('scale', displacementScale.toFixed(1));

      // Update progress display
      const displayProgress = Math.round(scrollProgress * 100);
      progressValue.textContent = displayProgress + '%';

      // Text color shift based on liquidity
      const hue = 160 + (scrollProgress * 20); // Shift from teal
      mainText.style.opacity = 1 - (scrollProgress * 0.1);

      // Subtitle fade
      subText.style.opacity = Math.max(0, 0.6 - scrollProgress);

      // Animate orbs
      const orbs = ['orb1', 'orb2', 'orb3', 'orb4'];
      orbs.forEach((id, i) => {
        const orb = document.getElementById(id);
        const offset = Math.sin(time + i * 1.5) * 10;
        const offsetY = Math.cos(time * 0.8 + i * 2) * 8;
        orb.style.transform = `translate(${offset}px, ${offsetY}px)`;
      });

      requestAnimationFrame(animate);
    }

    animate();

    // Initial entrance animation
    gsap.from(mainText, {
      opacity: 0,
      y: 30,
      duration: 1.5,
      ease: 'power3.out',
      delay: 0.3
    });

    gsap.from(subText, {
      opacity: 0,
      duration: 1,
      delay: 0.8
    });
  </script>
</body>
</html>
